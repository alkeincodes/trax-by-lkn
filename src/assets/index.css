@import 'tailwindcss';

@theme {
  --color-background: #010101;
  --color-foreground: hsl(222.2 84% 4.9%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(222.2 84% 4.9%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(222.2 84% 4.9%);
  --color-primary: hsl(222.2 47.4% 11.2%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-secondary: hsl(210 40% 96.1%);
  --color-secondary-foreground: hsl(222.2 47.4% 11.2%);
  --color-muted: hsl(210 40% 96.1%);
  --color-muted-foreground: hsl(215.4 16.3% 46.9%);
  --color-accent: hsl(210 40% 96.1%);
  --color-accent-foreground: hsl(222.2 47.4% 11.2%);
  --color-destructive: hsl(0 84.2% 60.2%);
  --color-destructive-foreground: hsl(210 40% 98%);
  --color-border: hsl(214.3 31.8% 91.4%);
  --color-input: hsl(214.3 31.8% 91.4%);
  --color-ring: hsl(222.2 84% 4.9%);
  --radius: 0.5rem;
}

@media (prefers-color-scheme: dark) {
  @theme {
    --color-background: #010101;
    --color-foreground: hsl(210 40% 98%);
    --color-card: hsl(220 18% 12%);
    --color-card-foreground: hsl(210 40% 98%);
    --color-popover: hsl(220 18% 12%);
    --color-popover-foreground: hsl(210 40% 98%);
    --color-primary: hsl(217 91% 60%);
    --color-primary-foreground: hsl(210 40% 98%);
    --color-secondary: hsl(217.2 32.6% 17.5%);
    --color-secondary-foreground: hsl(210 40% 98%);
    --color-muted: hsl(217.2 32.6% 17.5%);
    --color-muted-foreground: hsl(215 20.2% 65.1%);
    --color-accent: hsl(217.2 32.6% 17.5%);
    --color-accent-foreground: hsl(210 40% 98%);
    --color-destructive: hsl(0 62.8% 30.6%);
    --color-destructive-foreground: hsl(210 40% 98%);
    --color-border: hsl(217.2 32.6% 20%);
    --color-input: hsl(217.2 32.6% 20%);
    --color-ring: hsl(217 91% 60%);
  }
}

@theme inline {
  --color-panel: #131313;
  --color-inner-panel: #191C21;
}

* {
  border-color: var(--color-border);
}

body {
  background-color: var(--color-background);
  color: var(--color-foreground);
}


@layer base {

  .panel {
    @apply bg-panel py-4 px-6 rounded-lg h-full flex items-center justify-center;
  }

  .mixer-fader {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 100%;
    width: 95px;
    background-image: url('/public/slider-track.png');
    background-size: cover;
    background-position: center;
  }

  .mixer-fader input[type='range'] {
    -webkit-appearance: none;
    appearance: none;
    width: 290px;
    height: 24px;
    margin: 0;
    padding: 0;
    transform: rotate(-90deg);
    transform-origin: center center;
    cursor: pointer;
    position: relative;
    top: 130px;
    z-index: 100;
  }

  .mixer-fader input[type='range'].down-six {
    width: 490px;
    top: 230px;
  }

  .mixer-fader input[type='range'].drone {
    width: 230px;
    top: 105px;
  }



  .mixer-fader input[type='range']::-webkit-slider-runnable-track {
    position: relative;
    width: 80%;
    height: 8px;
    border-radius: 3px;
    background: #282828;
  }

  .mixer-fader input[type='range']::-moz-range-track {
    width: 80%;
    height: 8px;
    border-radius: 3px;
    background: #282828;
  }

  .mixer-fader input[type='range']::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    border: none;
    width: 37px;
    height: 25px;
    cursor: pointer;
    background-image: url("data:image/svg+xml,%3Csvg width='37' height='25' viewBox='0 0 37 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0H14C16.2091 0 18 1.79086 18 4V21C18 23.2091 16.2091 25 14 25H0V0Z' fill='%23080808'/%3E%3Cpath d='M23 25C20.7909 25 19 23.2091 19 21V4C19 1.79086 20.7909 0 23 0H37V25H23Z' fill='%23080808'/%3E%3Cline y1='20' x1='24.5' y2='4' x2='24.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='4.5' y2='4' x2='4.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='28.5' y2='4' x2='28.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='8.5' y2='4' x2='8.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='32.5' y2='4' x2='32.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='12.5' y2='4' x2='12.5' stroke='white' stroke-opacity='0.04'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    position: relative;
    top: 50%;
    translate: 0 -50%;
  }

  .mixer-fader input[type='range']::-moz-range-thumb {
    border: none;
    width: 37px;
    height: 25px;
    cursor: pointer;
    transform: rotate(90deg);
    background-image: url("data:image/svg+xml,%3Csvg width='37' height='25' viewBox='0 0 37 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0H14C16.2091 0 18 1.79086 18 4V21C18 23.2091 16.2091 25 14 25H0V0Z' fill='%23080808'/%3E%3Cpath d='M23 25C20.7909 25 19 23.2091 19 21V4C19 1.79086 20.7909 0 23 0H37V25H23Z' fill='%23080808'/%3E%3Cline y1='20' x1='24.5' y2='4' x2='24.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='4.5' y2='4' x2='4.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='28.5' y2='4' x2='28.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='8.5' y2='4' x2='8.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='32.5' y2='4' x2='32.5' stroke='white' stroke-opacity='0.04'/%3E%3Cline y1='20' x1='12.5' y2='4' x2='12.5' stroke='white' stroke-opacity='0.04'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    position: relative;
    z-index: 999;
  }

  .mixer-fader input[type='range']:focus {
    outline: none;
  }

  .mixer-fader input[type='range']:focus::-webkit-slider-runnable-track {
    background: #282828;
  }

  .mixer-fader input[type='range']:focus::-moz-range-track {
    background: #282828;
  }

  .master-fader {
    box-shadow: -6px 0 6px rgba(0, 0, 0, .25);

    .meter {
      height: calc(100% - 40px);
    }
  }

  .trax-levels {
    height: 100%;
    width:  100%;
    border-radius: 2px;
    display: flex;
    flex-direction: row;
    margin: auto;
    margin-top: 20px;

    .level {
      position: relative;
      margin: 0 2px;
      flex-grow: 1;
      z-index: 3;
      background-color: transparent;
      background-repeat: repeat-y;
      background-image:linear-gradient(to bottom, #66666650 3px, transparent 1px);
      background-size: 100% 4px;

    }

    /* paint glowing LEDs */
    .level:before {
      width: 100%;
      height: 100%;
      content: ' ';
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: 1;
      background-repeat: no-repeat;
      background-image:linear-gradient(to top, green 0%, yellow 80%, red 100%);
      background-size: 100% 100%;
      filter: drop-shadow(0px 0px 7px #ffffff99);
      /* -webkit-clip-path: inset(0% 0 0 0); Safari */
      /*animation: level-animation 2500ms alternate infinite;*/
      clip-path: inset(100% 0 0 0);
    }

    /* paint gap lines of LEDs */
    .level::after {
      width: 100%;
      height: 100%;
      content: ' ';
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: 2;
      margin-top: 3px;
      background-image:linear-gradient(to bottom, black 1px /* space between leds*/ , transparent 1px);
      background-repeat: repeat-y;
      background-size: 100% 4px; /* 4px LED height */
      background-color: transparent;
    }
  }

}